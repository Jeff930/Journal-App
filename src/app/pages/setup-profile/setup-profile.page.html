<ion-header>
  <ion-toolbar>
    <ion-title>
      My Profile
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="profile_form">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-card class="banner">
             <ion-card-content>
              <ion-card class="profile-form">
                <ion-card-header>
                  <ion-grid>
                    <ion-row>
                      <ion-col>
                        <div style="float: left;">
                          <ion-card-title>My Photo</ion-card-title>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </ion-card-header>
                <ion-card-content>
                  <ion-grid>
                    <ion-row>
                      <ion-col>
                        <div class="profile">
                          <img class="profile-image" [src]="profileImage" >
                        </div>  
                      
                        <!-- <div>
                          <label class="add-image" for="file">UPDATE PROFILE PICTURE</label>
                          <input #image (change)="acceptImage(image)" name="file" id="file" class="image-input" type="file" accept="image/gif, image/jpeg, image/png" multiple/>
                        </div>   -->

                        <!--  <div>
                          <ion-button class="profile-button">Save Changes</ion-button>
                          <ion-button class="profile-button">Cancel</ion-button>
                        </div>   -->
                        </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-col>
        
                      
                        <div *ngIf = "view == true">
                          <label class="add-image" for="file">UPDATE PROFILE PICTURE</label>
                          <input #image (change)="acceptImage(image)" name="file" id="file" class="image-input" type="file" accept="image/gif, image/jpeg, image/png" multiple/>
                        </div>  

                        <div *ngIf = "view == false">
                          <ion-button class="profile-button" (click)="cancelProfile()">Cancel</ion-button>
                          <ion-button class="profile-button" (click)="saveProfile()">Save Changes</ion-button>
                        </div>  
                        </ion-col>
                    </ion-row>
                  </ion-grid>
                </ion-card-content>
              </ion-card>
            </ion-card-content>
           <!--  <ion-row>
              <ion-col size-xl="3" size-xs="12" size-sm="5" size-lg="3">
                <div class="profile">
                  <h6 *ngIf="imagePaths.length <= 0">Edit this page and upload a pic!</h6>
                  <img class="profile-image" *ngFor="let imagePath of imagePaths; let i = index" [src]="imagePath">
                  <ion-col size="1">
                    <label  *ngIf="isReadonly == false" class="add-image" for="file"><ion-icon name="images-outline" class="util-icon"></ion-icon></label>
                    <input #image (change)="acceptImage(image)" name="file" id="file" class="image-input" type="file" accept="image/gif, image/jpeg, image/png" multiple/>
                  </ion-col>
                </div>
              </ion-col>
            </ion-row> -->
            <ion-card-content>
              <ion-card class="profile-form">
                <ion-card-header>
                  <ion-grid>
                    <ion-row>
                      <ion-col>
                        <div style="float: left;">
                          <ion-card-title>{{piTitle}}</ion-card-title>
                        </div>
                        <div style="float: right;">
                          <ion-button *ngIf="isReadonly == true" slot="end" (click)="editForm()"
                            class="btn-save ripple-style">
                            <ion-icon name="create-outline"></ion-icon><!-- &nbsp; -->
                          </ion-button>
                          <ion-button *ngIf="isReadonly == false" slot="end" (click)="cancelChanges()"
                            [disabled]="formStatus" class="btn-save ripple-style">
                            <ion-icon name="close-outline"></ion-icon>&nbsp;
                          </ion-button>
                          <ion-button *ngIf="isReadonly == false" slot="end" (click)="saveFormChanges()"
                            [disabled]="formStatus" class="btn-save ripple-style">
                            <ion-icon name="save-outline"></ion-icon>&nbsp;
                          </ion-button>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </ion-card-header>
                <ion-card-content>
                  <ion-grid>
                    <ion-row>
                      <ion-col size="12" size-sm>
                        <div>
                          <ion-item *ngIf="isReadonly == false" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="person-circle"></ion-icon>
                            <ion-input type="text" placeholder="Username" required [readonly]="isReadonly"
                              formControlName="username"></ion-input>
                          </ion-item>
                          <ion-item *ngIf="isReadonly == true" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="person-circle"></ion-icon>
                            <ion-input type="text" placeholder="Username" required [readonly]="isReadonly"
                              formControlName="username"></ion-input>
                          </ion-item>
                        </div>
                      </ion-col>
                      <ion-col size="12" size-sm>
                         <div>
                          <ion-item *ngIf="isReadonly == false" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="mail"></ion-icon>
                            <ion-input type="text" placeholder="Email Address" required [readonly]="isReadonly"
                              formControlName="email">
                            </ion-input>
                          </ion-item>
                          <ion-item *ngIf="isReadonly == true" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="mail"></ion-icon>
                            <ion-input type="text" placeholder="Email Address" required [readonly]="isReadonly"
                              formControlName="email">
                            </ion-input>
                          </ion-item>
                        </div>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-col size="12" size-sm>
                        <div>
                          <ion-item *ngIf="isReadonly == false" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="person"></ion-icon>
                            <ion-input type="text" placeholder="First Name" required [readonly]="isReadonly"
                              formControlName="firstname"></ion-input>
                          </ion-item>
                          <ion-item *ngIf="isReadonly == true" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="person"></ion-icon>
                            <ion-input type="text" placeholder="First Name" required [readonly]="isReadonly"
                              formControlName="firstname"></ion-input>
                          </ion-item>
                        </div>
                      </ion-col>
                      <ion-col size="12" size-sm>
                        <div>
                          <ion-item *ngIf="isReadonly == false" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="person-outline"></ion-icon>
                            <ion-input type="text" placeholder="Last Name" required [readonly]="isReadonly"
                              formControlName="lastname"></ion-input>
                          </ion-item>
                          <ion-item *ngIf="isReadonly == true" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="person-outline"></ion-icon>
                            <ion-input type="text" placeholder="Last Name" required [readonly]="isReadonly"
                              formControlName="lastname"></ion-input>
                          </ion-item>
                        </div>
                      </ion-col>
                    </ion-row>
                    <ion-row>
                      <ion-col size="12" size-sm>
                        <div>
                          <ion-item *ngIf="isReadonly == false" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="call"></ion-icon>
                            <ion-input type="text" placeholder="Contact Number" [readonly]="isReadonly"
                              formControlName="phone">
                            </ion-input>
                          </ion-item>
                          <ion-item *ngIf="isReadonly == true" class="input_editmode">
                            <ion-label></ion-label>
                            <ion-icon name="call"></ion-icon>
                            <ion-input type="text" placeholder="Contact Number" [readonly]="isReadonly"
                              formControlName="phone">
                            </ion-input>
                          </ion-item>
                        </div>
                      </ion-col>
                      <ion-col size="12" size-sm>
                        <div>
                          <ion-item *ngIf="isReadonly == false" class="input_editmode">
                            <ion-icon name="calendar"></ion-icon>
                            <ion-datetime displayFormat="MMMM DD, YYYY" pickerFormat="MMMM DD, YYYY"
                              placeholder="MM DD, YYYY" required formControlName="birthdate">
                            </ion-datetime>
                          </ion-item>
                          <ion-item *ngIf="isReadonly == true" class="input_editmode">
                            <ion-icon name="calendar"></ion-icon>
                            <ion-datetime displayFormat="MMMM DD, YYYY" pickerFormat="MMMM DD, YYYY"
                              placeholder="MM DD, YYYY" required formControlName="birthdate" [readonly]="isReadonly">
                            </ion-datetime>
                          </ion-item>
                        </div>
                      </ion-col>
                    </ion-row>
                  </ion-grid>
                </ion-card-content>
              </ion-card>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>